use <Write.scad>

$fn = 100;
ALTURA_BASE = 2;
fudge = 0.1;

module poly_path3002(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-319.675781,-24.328125],[-319.675781,-6.046875],[-288.597656,-6.046875],[-288.597656,-0.281245],[-282.832031,-0.281245],[-282.832031,36.843755],[-288.597656,36.843755],[-288.597656,42.609375],[-331.347656,42.609375],[-331.347656,31.078125],[-294.363281,31.078125],[-294.363281,5.484375],[-325.441406,5.484375],[-325.441406,-0.281245],[-331.207031,-0.281245],[-331.207031,-30.093745],[-325.441406,-30.093745],[-325.441406,-35.859375],[-281.777343,-35.859375],[-281.777343,-24.328125],[-319.675781,-24.328125]]);
  }
}

module poly_path3024(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[233.542966,36.703125],[233.542966,-20.742185],[245.074216,-20.742185],[245.074216,0.281255],[278.613286,0.281255],[278.613286,-14.976565],[250.136716,-14.976565],[250.136716,-26.507815],[284.660156,-26.507815],[284.660156,-20.601565],[290.144536,-20.601565],[290.144536,6.187505],[283.957036,6.187505],[283.957036,11.812505],[245.074216,11.812505],[245.074216,36.843755],[233.542966,36.703125]]);
    linear_extrude(height=h)
      polygon([[250.980466,25.031255],[283.253906,25.031255],[283.253906,36.703125],[250.980466,36.843755]]);
  }
}

module poly_path3026(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[299.074216,-42.328125],[299.074216,36.843755],[322.699216,36.843755],[322.699216,25.453125],[310.605466,25.453125],[310.605466,-42.328125]]);
    linear_extrude(height=h)
      polygon([[316.511716,-14.976565],[331.347656,-14.976565],[331.347656,-26.507815],[316.511716,-26.507815]]);
  }
}

module poly_path3004(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-273.832034,-42.609375],[-262.160154,-42.609375],[-262.160154,-32.695315],[-273.972654,-32.835935],[-273.832034,-42.609375]]);
    linear_extrude(height=h)
      polygon([[-273.832034,-20.742185],[-262.300784,-20.742185],[-262.300784,36.703125],[-273.832034,36.703125]]);
  }
}

module poly_path3006(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-252.035154,-20.742185],[-240.363284,-20.742185],[-240.363284,36.843755],[-252.035154,36.843755]]);
    linear_extrude(height=h)
      polygon([[-235.792964,-14.554685],[-235.792964,-26.085935],[-202.675784,-26.085935],[-202.675784,-20.742185],[-196.910154,-20.742185],[-196.910154,36.843755],[-208.371094,36.843755],[-208.371094,-14.554685],[-235.792964,-14.554685]]);
  }
}

module poly_path3008(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-131.941404,-42.328125],[-143.613284,-42.328125],[-143.613284,-26.929685],[-143.753904,-26.929685],[-143.753904,-27.210935],[-169.347654,-27.210935],[-169.347654,-15.749995],[-143.613284,-15.749995],[-143.613284,36.843755],[-131.941404,36.703125],[-131.941404,-42.328125]]);
    linear_extrude(height=h)
      polygon([[-174.550784,25.171875],[-174.550784,-21.164065],[-186.082034,-21.164065],[-186.082034,36.703125],[-147.339844,36.703125],[-147.339844,25.171875]]);
  }
}

module poly_path3010(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-75.621094,-13.851565],[-104.378904,-13.851565],[-104.378904,-25.242185],[-70.839844,-25.382815],[-70.839844,-21.023435],[-63.949214,-21.023435],[-63.949214,36.843755],[-75.621094,36.843755]]);
    linear_extrude(height=h)
      polygon([[-81.386714,36.843755],[-120.972654,36.843755],[-120.972654,-20.742185],[-109.441404,-20.742185],[-109.441404,25.312505],[-81.386714,25.312505]]);
  }
}

module poly_path3012(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-53.472654,-20.742185],[-41.800784,-20.742185],[-41.800784,36.843755],[-53.472654,36.843755]]);
    linear_extrude(height=h)
      polygon([[-37.230464,-14.554685],[-37.230464,-26.085935],[-4.113284,-26.085935],[-4.113284,-14.554685]]);
  }
}

module poly_path3014(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[0.808596,-20.742185],[12.480466,-20.742185],[12.480466,36.843755],[0.808596,36.843755]]);
    linear_extrude(height=h)
      polygon([[33.644536,-14.414065],[33.644536,11.812505],[22.113286,11.812505],[22.113286,-14.554685],[15.644536,-14.554685],[15.644536,-26.085935],[25.839846,-26.085935],[25.839846,-21.304685],[29.636716,-21.304685],[29.636716,-26.085935],[56.707036,-26.085935],[56.707036,-20.742185],[62.121096,-20.742185],[62.121096,36.843755],[50.660156,36.843755],[50.660156,-14.414065]]);
  }
}

module poly_path3016(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[72.949216,-42.609375],[84.621096,-42.609375],[84.621096,-32.695315],[72.808596,-32.835935],[72.949216,-42.609375]]);
    linear_extrude(height=h)
      polygon([[72.949216,-20.742185],[84.480466,-20.742185],[84.480466,36.703125],[72.949216,36.703125]]);
  }
}

module poly_path3018(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[94.746096,-20.742185],[106.417966,-20.742185],[106.417966,36.843755],[94.746096,36.843755]]);
    linear_extrude(height=h)
      polygon([[110.988286,-14.554685],[110.988286,-26.085935],[144.105466,-26.085935],[144.105466,-14.554685],[110.988286,-14.554685]]);
  }
}

module poly_path3020(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[152.050786,28.054685],[152.050786,41.484375],[163.582036,41.484375],[163.582036,28.054685]]);
  }
}

module poly_path3022(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[167.589846,-20.742185],[179.261716,-20.742185],[179.261716,36.843755],[167.589846,36.843755]]);
    linear_extrude(height=h)
      polygon([[183.832036,-14.554685],[183.832036,-26.085935],[216.949216,-26.085935],[216.949216,-20.742185],[222.714846,-20.742185],[222.714846,36.843755],[211.253906,36.843755],[211.253906,-14.554685],[183.832036,-14.554685]]);
  }
}

module sindormir(h) {
	poly_path3002(h);
	poly_path3024(h);
	poly_path3026(h);
	poly_path3004(h);
	poly_path3006(h);
	poly_path3008(h);
	poly_path3010(h);
	poly_path3012(h);
	poly_path3014(h);
	poly_path3016(h);
	poly_path3018(h);
	poly_path3022(h);
	poly_path3020(h);
	translate([-88,10,0]) poly_path3020(h);
	translate([-69,10,0]) poly_path3020(h);
}

module soporte(){
	MINK=6;

	difference(){
		union(){
			translate([-60+MINK/2,-10,-ALTURA_BASE]) {
				minkowski() {
					cube([120-MINK,60-MINK,ALTURA_BASE]);
					cylinder(r=MINK,h=ALTURA_BASE-1.6,center=true);
				}
			}
			color("blue")scale([0.6,0.6,1])sindormir(3);
			translate([-37,25,ALTURA_BASE/2]) color("red") write("4",t=2,h=16,center=true);
		}
		translate([0,25,-ALTURA_BASE-0.25])
			#cylinder(r=28/2,h=ALTURA_BASE+0.5);

		translate([-5,45,-ALTURA_BASE-0.25])
			cylinder(r=2,h=ALTURA_BASE*2);

		translate([+5,45,-ALTURA_BASE-0.25])
			cylinder(r=2,h=ALTURA_BASE*2);
		
	}
}

soporte();
